!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dragula=e()}(function(){return function o(i,r,u){function c(t,e){if(!r[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=r[t]={exports:{}},i[t][0].call(n.exports,function(e){return c(i[t][1][e]||e)},n,n.exports,o,i,r,u)}return r[t].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){!function(i){!function(){"use strict";var M=e("contra/emitter"),k=e("crossvent"),j=document,R=j.documentElement;function q(e,t,n,o){i.navigator.pointerEnabled?k[t](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[n],o):i.navigator.msPointerEnabled?k[t](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[n],o):(k[t](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[n],o),k[t](e,n,o))}function U(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;e=e.button;return void 0!==e?1&e?1:2&e?3:4&e?2:0:void 0}function K(e,t){return void 0!==i[t]?i[t]:(R.clientHeight?R:j.body)[e]}function z(e,t,n){var o=(e=e||{}).className||"";return e.className+=" gu-hide",n=j.elementFromPoint(t,n),e.className=o,n}function H(){return!1}function V(){return!0}function G(e){return e.width||e.right-e.left}function J(e){return e.height||e.bottom-e.top}function Q(e){return e.parentNode===j?null:e.parentNode}function W(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(t){if(!t)return!1;if("false"===t.contentEditable)return!1;if("true"===t.contentEditable)return!0;return e(Q(t))}(e)}function Z(t){return t.nextElementSibling||function(){var e=t;for(;e=e.nextSibling,e&&1!==e.nodeType;);return e}()}function $(e,t){var t=(n=t).targetTouches&&n.targetTouches.length?n.targetTouches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,n={pageX:"clientX",pageY:"clientY"};return t[e=e in n&&!(e in t)&&n[e]in t?n[e]:e]}t.exports=function(e,t){var a,f,s,d,v,o,i,m,p,h,n;1===arguments.length&&!1===Array.isArray(e)&&(t=e,e=[]);var r,g=null,y=t||{};void 0===y.moves&&(y.moves=V),void 0===y.accepts&&(y.accepts=V),void 0===y.invalid&&(y.invalid=function(){return!1}),void 0===y.containers&&(y.containers=e||[]),void 0===y.isContainer&&(y.isContainer=H),void 0===y.copy&&(y.copy=!1),void 0===y.copySortSource&&(y.copySortSource=!1),void 0===y.revertOnSpill&&(y.revertOnSpill=!1),void 0===y.removeOnSpill&&(y.removeOnSpill=!1),void 0===y.direction&&(y.direction="vertical"),void 0===y.ignoreInputTextSelection&&(y.ignoreInputTextSelection=!0),void 0===y.mirrorContainer&&(y.mirrorContainer=j.body);var w=M({containers:y.containers,start:function(e){e=S(e);e&&C(e)},end:O,cancel:X,remove:N,destroy:function(){c(!0),I({})},canMove:function(e){return!!S(e)},dragging:!1});return!0===y.removeOnSpill&&w.on("over",function(e){e?.classList.remove("gu-hide")}).on("out",function(e){w.dragging&&e?.classList.add("gu-hide")}),c(),w;function u(e){return-1!==w.containers.indexOf(e)||y.isContainer(e)}function c(e){e=e?"remove":"add";q(R,e,"mousedown",E),q(R,e,"mouseup",I)}function l(e){q(R,e?"remove":"add","mousemove",x)}function b(e){e=e?"remove":"add";k[e](R,"selectstart",T),k[e](R,"click",T)}function T(e){r&&e.preventDefault()}function E(e){var t,n;o=e.clientX,i=e.clientY,1!==U(e)||e.metaKey||e.ctrlKey||(n=S(t=e.target))&&(r=n,l(),"mousedown"===e.type&&(W(t)?t.focus():e.preventDefault()))}function x(e){if(r)if(0!==U(e)){if(!(void 0!==e.clientX&&Math.abs(e.clientX-o)<=(y.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-i)<=(y.slideFactorY||0))){if(y.ignoreInputTextSelection){var t=$("clientX",e)||0,n=$("clientY",e)||0;if(W(j.elementFromPoint(t,n)))return}n=r;l(!0),b(),O(),C(n);n=function(e){e=e.getBoundingClientRect();return{left:e.left+K("scrollLeft","pageXOffset"),top:e.top+K("scrollTop","pageYOffset")}}(s);d=$("pageX",e)-n.left,v=$("pageY",e)-n.top;n=h||s;n&&n.classList.add("gu-transit"),a||(n=s.getBoundingClientRect(),(a=s.cloneNode(!0)).style.width=G(n)+"px",a.style.height=J(n)+"px",a.classList.remove("gu-transit"),a.classList.add("gu-mirror"),y.mirrorContainer.appendChild(a),q(R,"add","mousemove",P),y.mirrorContainer.classList.add("gu-unselectable"),w.emit("cloned",a,s,"mirror")),P(e)}}else I({})}function S(e){if(!(w.dragging&&a||u(e))){for(var t=e;Q(e)&&!1===u(Q(e));){if(y.invalid(e,t))return;if(!(e=Q(e)))return}var n=Q(e);if(n)if(!y.invalid(e,t))if(y.moves(e,n,t,Z(e)))return{item:e,source:n}}}function C(e){var t,n;t=e.item,n=e.source,("boolean"==typeof y.copy?y.copy:y.copy(t,n))&&(h=e.item.cloneNode(!0),w.emit("cloned",h,e.item,"copy")),f=e.source,s=e.item,m=p=Z(e.item),w.dragging=!0,w.emit("drag",s,f)}function O(){var e;w.dragging&&_(e=h||s,Q(e))}function L(){l(!(r=!1)),b(!0)}function I(e){var t,n;L(),w.dragging&&(t=h||s,n=$("clientX",e)||0,e=$("clientY",e)||0,(e=B(z(a,n,e),n,e))&&(h&&y.copySortSource||!h||e!==f)?_(t,e):(y.removeOnSpill?N:X)())}function _(e,t){var n=Q(e);h&&y.copySortSource&&t===f&&n.removeChild(s),A(t)?w.emit("cancel",e,f,f):w.emit("drop",e,t,f,p),Y()}function N(){var e,t;w.dragging&&((t=Q(e=h||s))&&t.removeChild(e),w.emit(h?"cancel":"remove",e,t,f),Y())}function X(e){var t,n,o;w.dragging&&(t=0<arguments.length?e:y.revertOnSpill,!1===(e=A(o=Q(n=h||s)))&&t&&(h?o&&o.removeChild(h):f.insertBefore(n,m)),e||t?w.emit("cancel",n,f,f):w.emit("drop",n,o,f,p),Y())}function Y(){var e=h||s;L(),a&&(y.mirrorContainer.classList.remove("gu-unselectable"),q(R,"remove","mousemove",P),Q(a).removeChild(a),a=null),e&&e.classList.remove("gu-transit"),n&&clearTimeout(n),w.dragging=!1,g&&w.emit("out",e,g,f),w.emit("dragend",e),f=s=h=m=p=n=g=null}function A(e,t){t=void 0!==t?t:a?p:Z(h||s);return e===f&&t===m}function B(t,n,o){for(var i=t;i&&!function(){if(!1===u(i))return!1;var e=D(i,t),e=F(i,e,n,o);if(A(i,e))return!0;return y.accepts(s,i,f,e)}();)i=Q(i);return i}function P(e){if(a){e.preventDefault();var t=$("clientX",e)||0,n=$("clientY",e)||0,o=t-d,i=n-v;a.style.left=o+"px",a.style.top=i+"px";var r=h||s,e=z(a,t,n),o=B(e,t,n),u=null!==o&&o!==g;!u&&null!==o||(g&&l("out"),g=o,u&&l("over"));i=Q(r);if(o!==f||!h||y.copySortSource){var c,e=D(o,e);if(null!==e)c=F(o,e,t,n);else{if(!0!==y.revertOnSpill||h)return void(h&&i&&i.removeChild(r));c=m,o=f}(null===c&&u||c!==r&&c!==Z(r))&&(p=c,o.insertBefore(r,c),w.emit("shadow",r,o,f))}else i&&i.removeChild(r)}function l(e){w.emit(e,r,g,f)}}function D(e,t){for(var n=t;n!==e&&Q(n)!==e;)n=Q(n);return n===R?null:n}function F(i,t,r,u){var c="horizontal"===y.direction;return(t!==i?function(){var e=t.getBoundingClientRect();if(c)return n(r>e.left+G(e)/2);return n(u>e.top+J(e)/2)}:function(){var e,t,n,o=i.children.length;for(e=0;e<o;e++){if(t=i.children[e],n=t.getBoundingClientRect(),c&&n.left+n.width/2>r)return t;if(!c&&n.top+n.height/2>u)return t}return null})();function n(e){return e?Z(t):t}}}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"contra/emitter":4,crossvent:5}],2:[function(e,t,n){t.exports=function(e,t){return Array.prototype.slice.call(e,t)}},{}],3:[function(e,t,n){"use strict";var o=e("ticky");t.exports=function(e,t,n){e&&o(function(){e.apply(n||null,t||[])})}},{ticky:9}],4:[function(e,t,n){"use strict";var c=e("atoa"),l=e("./debounce");t.exports=function(i,e){var r=e||{},u={};return(i=void 0===i?{}:i).on=function(e,t){return u[e]?u[e].push(t):u[e]=[t],i},i.once=function(e,t){return t._once=!0,i.on(e,t),i},i.off=function(e,t){var n=arguments.length;if(1===n)delete u[e];else if(0===n)u={};else{e=u[e];if(!e)return i;e.splice(e.indexOf(t),1)}return i},i.emit=function(){var e=c(arguments);return i.emitterSnapshot(e.shift()).apply(this,e)},i.emitterSnapshot=function(o){var e=(u[o]||[]).slice(0);return function(){var t=c(arguments),n=this||i;if("error"===o&&!1!==r.throws&&!e.length)throw 1===t.length?t[0]:t;return e.forEach(function(e){r.async?l(e,t,n):e.apply(n,t),e._once&&i.off(o,e)}),i}},i}},{"./debounce":3,atoa:2}],5:[function(n,o,e){!function(a){!function(){"use strict";var i=n("custom-event"),r=n("./eventmap"),u=a.document,e=function(e,t,n,o){return e.addEventListener(t,n,o)},t=function(e,t,n,o){return e.removeEventListener(t,n,o)},c=[];function l(e,t,n){t=function(e,t,n){var o,i;for(o=0;o<c.length;o++)if((i=c[o]).element===e&&i.type===t&&i.fn===n)return o}(e,t,n);if(t){n=c[t].wrapper;return c.splice(t,1),n}}a.addEventListener||(e=function(e,t,n){return e.attachEvent("on"+t,function(e,t,n){var o=l(e,t,n)||function(n,o){return function(e){var t=e||a.event;t.target=t.target||t.srcElement,t.preventDefault=t.preventDefault||function(){t.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},t.which=t.which||t.keyCode,o.call(n,t)}}(e,n);return c.push({wrapper:o,element:e,type:t,fn:n}),o}(e,t,n))},t=function(e,t,n){n=l(e,t,n);if(n)return e.detachEvent("on"+t,n)}),o.exports={add:e,remove:t,fabricate:function(e,t,n){var o=-1===r.indexOf(t)?new i(t,{detail:n}):function(){var e;u.createEvent?(e=u.createEvent("Event")).initEvent(t,!0,!0):u.createEventObject&&(e=u.createEventObject());return e}();e.dispatchEvent?e.dispatchEvent(o):e.fireEvent("on"+t,o)}}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":6,"custom-event":7}],6:[function(e,i,t){!function(o){!function(){"use strict";var e=[],t="",n=/^on/;for(t in o)n.test(t)&&e.push(t.slice(2));i.exports=e}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,n,t){!function(e){!function(){var t=e.CustomEvent;n.exports=function(){try{var e=new t("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}}()?t:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,n){var o,i,t=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(t){if(o===setTimeout)return setTimeout(t,0);if((o===r||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:r}catch(e){o=r}try{i="function"==typeof clearTimeout?clearTimeout:u}catch(e){i=u}}();var l,a=[],f=!1,s=-1;function d(){f&&l&&(f=!1,l.length?a=l.concat(a):s=-1,a.length&&v())}function v(){if(!f){var e=c(d);f=!0;for(var t=a.length;t;){for(l=a,a=[];++s<t;)l&&l[s].run();s=-1,t=a.length}l=null,f=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===u||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new m(e,t)),1!==a.length||f||c(v)},m.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=p,t.addListener=p,t.once=p,t.off=p,t.removeListener=p,t.removeAllListeners=p,t.emit=p,t.prependListener=p,t.prependOnceListener=p,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],9:[function(e,n,t){!function(t){!function(){var e="function"==typeof t?function(e){t(e)}:function(e){setTimeout(e,0)};n.exports=e}.call(this)}.call(this,e("timers").setImmediate)},{timers:10}],10:[function(l,e,a){!function(n,c){!function(){var o=l("process/browser.js").nextTick,e=Function.prototype.apply,i=Array.prototype.slice,r={},u=0;function t(e,t){this._id=e,this._clearFn=t}a.setTimeout=function(){return new t(e.call(setTimeout,window,arguments),clearTimeout)},a.setInterval=function(){return new t(e.call(setInterval,window,arguments),clearInterval)},a.clearTimeout=a.clearInterval=function(e){e.close()},t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(window,this._id)},a.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},a.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},a._unrefActive=a.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},a.setImmediate="function"==typeof n?n:function(e){var t=u++,n=!(arguments.length<2)&&i.call(arguments,1);return r[t]=!0,o(function(){r[t]&&(n?e.apply(null,n):e.call(null),a.clearImmediate(t))}),t},a.clearImmediate="function"==typeof c?c:function(e){delete r[e]}}.call(this)}.call(this,l("timers").setImmediate,l("timers").clearImmediate)},{"process/browser.js":8,timers:10}]},{},[1])(1)});